name: Refresh base and dev containers

on:
  schedule:
    - cron: '0 3 25 * *'
  workflow_dispatch:

jobs:
  
  purge:
    runs-on: ubuntu-latest
    uses: ./.github/workflows/purge-containers.yaml

  build-base:
    runs-on: ubuntu-latest
    needs: purge
    uses: ./.github/workflows/base-containers.yaml

  build-deploy-dev:
    runs-on: ubuntu-latest
    needs: build-base
    uses: ./.github/workflows/dev-containers.yaml
